
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Privileges - RestorePointsManager</title>
   <!-- Bootstrap CSS -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
   <!-- Bootstrap Icons -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
   <!-- Google Fonts -->
   <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
   <!-- Prism.js for syntax highlighting -->
   <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css" rel="stylesheet">
    <!-- Mermaid.js for diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.5.0/dist/mermaid.min.js"></script>

   <style>
     body {
       font-family: 'Inter', sans-serif;
       color: #2c3e50;
       background-color: #f8f9fa;
     }
      .sticky-header {
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 1000;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        box-shadow: 0 4px 20px rgba(0,0,0,.15);
        backdrop-filter: blur(10px);
      }
      .navbar-brand {
        font-weight: 700;
        color: white !important;
        font-size: 1.5rem;
      }

       body { padding-top: 35px; }

      /* Sidebar Styles */
      .sidebar {
        position: fixed;
        padding: 25px 0;
        left: 0;
        width: 330px;
        height: calc(100vh);
        background: #eef2f6;
        border-right: 1px solid #e9ecef;
        overflow-y: auto;
        z-index: 999;
      }
      .sidebar .nav {
        padding: 20px;
        margin: 0; /* Reset any default margin */
      }
        .nav-link {font-size: 1rem; }
      .sidebar .nav-link {
        color: #2c3e50;
        font-weight: 500;
        border-radius: 10px;
        margin-bottom: 5px;
        display: block;
        text-decoration: none;
        white-space: nowrap;
        overflow: hidden;
      }
      .sidebar .nav-link:hover {
        background-color: #667eea;
        color: white;
      }
      .sidebar .nav-link.active {
        background-color: #667eea;
        color: white;
      }
      .sidebar .nav-link i {
        margin-right: 10px;
      }

      .main-content {
        margin-left: 330px;
        padding: 20px;
        position: relative;
        line-height: 1.7;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

       @media (max-width: 768px) {
         .hero-section {
           padding: 40px 20px;
           margin-bottom: 30px;
         }

         .hero-section h1 {
           font-size: 2rem;
         }

         .hero-section p {
           font-size: 1.1rem;
         }

         .sticky-header .navbar-brand {
           font-size: 1.2rem;
         }

         .sidebar {
           width: 100%;
           position: relative;
           height: auto;
           top: 0;
         }

         .main-content {
           margin-left: 0;
         }

         .chapter-card .card-body {
           padding: 20px;
         }

          .nav-buttons {
            bottom: 20px;
            right: 20px;
          }

          .nav-button {
            width: 35px;
            height: 35px;
            font-size: 16px;
          }
       }

      @media (max-width: 576px) {
        .hero-section h1 {
          font-size: 1.8rem;
        }

        .chapter-card {
          margin-bottom: 15px;
        }
      }

     h1, h2, h3, h4, h5, h6 {
       color: #2c3e50;
       font-weight: 600;
       margin-top: 2rem;
       margin-bottom: 1rem;
     }

      h1 {
        font-size: 2.5rem;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 1.5rem;
      }

      p {
        font-size: 1.1rem;
        margin-bottom: 1.5rem;
      }

      .hero-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 10px 0;
        margin-bottom: 40px;
        border-radius: 15px;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0,0,0,.1);
      }

      .hero-section h1 {
        color: white;
        -webkit-text-fill-color: white;
        font-size: 3rem;
        margin-bottom: 1rem;
      }

      .hero-section p {
        font-size: 1.3rem;
        opacity: 0.9;
      }

      .chapter-card {
        background: white;
        border: none;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0,0,0,.08);
        /* Removed transition for nav consistency */
        margin-bottom: 20px;
        overflow: hidden;
      }

      .chapter-card:hover {
        /* Removed transform for consistency */
        box-shadow: 0 10px 25px rgba(0,0,0,.15);
      }

      .chapter-card .card-body {
        padding: 25px;
      }

      .chapter-card .card-title {
        color: #2c3e50;
        font-weight: 600;
        margin-bottom: 15px;
      }

      .chapter-card .card-text {
        color: #6c757d;
        line-height: 1.6;
      }

      .chapter-card .btn {
        border-radius: 25px;
        padding: 8px 20px;
        font-weight: 500;
        /* Removed transition for consistency */
      }
      .nav-buttons {
        position: fixed;
        bottom: 30px;
        right: 30px;
        z-index: 1000;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .nav-button {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        font-size: 18px;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(0,0,0,.2);

        /* Removed transition for consistency */
        display: flex;
        align-items: center;
        justify-content: center;
      }
     .nav-button:hover {
       /* Removed transform for consistency */
       box-shadow: 0 6px 20px rgba(0,0,0,.3);
     }

      /* Mermaid Diagram Styles */
      .mermaid {
        position: relative;
        text-align: center;
        margin: 30px 0;
        padding: 20px;
        background: white;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0,0,0,.1);
        overflow: hidden;
      }

      .mermaid svg {
        max-width: 100%;
        height: auto;
        border-radius: 10px;
        cursor: grab;
        transition: transform 0.3s ease;
      }

      .mermaid svg.dragging {
        cursor: grabbing;
      }

      /* Zoom Controls Overlay */
      .mermaid-zoom-controls {
        position: absolute;
        top: 10px;
        right: 10px;
        display: flex;
        flex-direction: column;
        gap: 5px;
        opacity: 1;
        transition: opacity 0.3s ease;
        z-index: 10;
      }

      .mermaid-zoom-btn {
        width: 30px;
        height: 30px;
        border: none;
        border-radius: 50%;
        background: rgba(102, 126, 234, 0.9);
        color: white;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 8px rgba(0,0,0,.2);
        transition: all 0.2s ease;
      }

      .mermaid-zoom-btn:hover {
        background: rgba(102, 126, 234, 1);
        transform: scale(1.1);
      }

      .mermaid-zoom-btn:active {
        transform: scale(0.95);
      }

      .chapter-nav {
        padding: 20px 0;
        margin-top: 40px;
        text-align: center;
        margin-left: 330px; /* Match sidebar width to align with main content */
        width: calc(100% - 330px); /* Account for sidebar width */
      }
      
      @media (max-width: 768px) {

     .chapter-nav .btn {
       border-radius: 25px;
       padding: 10px 25px;
       font-weight: 500;
       /* Removed transform for consistency */
     }

     .chapter-nav .btn:hover {
       /* Removed transform for consistency */
       box-shadow: 0 4px 15px rgba(0,0,0,.2);
     }

     code {
       background-color: #e9ecef;
       padding: 2px 6px;
       border-radius: 4px;
       color: #495057;
     }

     pre {
       background-color: #2d3748;
       color: #e2e8f0;
       padding: 20px;
       border-radius: 10px;
       overflow-x: auto;
       box-shadow: 0 4px 6px rgba(0,0,0,.1);
     }

      blockquote {
        border-left: 5px solid #667eea;
        background: linear-gradient(135deg, #f8f9fa, #ffffff);
        padding: 20px 25px;
        margin: 25px 0;
        border-radius: 0 15px 15px 0;
        box-shadow: 0 3px 10px rgba(0,0,0,.05);
        font-style: italic;
        position: relative;
      }

      blockquote::before {
        content: '"';
        font-size: 4rem;
        color: #667eea;
        opacity: 0.3;
        position: absolute;
        top: -10px;
        left: 15px;
        font-family: serif;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .fade-in-up {
        animation: fadeInUp 0.6s ease-out;
      }

      .chapter-card {
        animation: fadeInUp 0.6s ease-out;
        animation-fill-mode: both;
      }

      .chapter-card:nth-child(1) { animation-delay: 0.1s; }
      .chapter-card:nth-child(2) { animation-delay: 0.2s; }
      .chapter-card:nth-child(3) { animation-delay: 0.3s; }
      
      /* Center chapter navigation and footer within main content area */
      .chapter-nav {
        background: transparent;
        padding: 20px 0;
        margin-top: 40px;
        text-align: center;
        margin-left: 330px; /* Match sidebar width to align with main content */
        width: calc(100% - 330px); /* Account for sidebar width */
        position: relative; /* Ensure proper positioning */
      }
      
      footer {
        margin-left: 330px; /* Match sidebar width to align with main content */
        width: calc(100% - 330px); /* Account for sidebar width */
        position: relative; /* Ensure proper positioning */
      }
      
      @media (max-width: 768px) {
        .chapter-nav, footer {
          margin-left: 0 !important;
          width: 100% !important;
        }
      }
   </style>
</head>
<body>
    <!-- Sticky Header -->
    <header class="sticky-header">
       <nav class="navbar navbar-expand-lg navbar-light">
         <div class="d-flex justify-content-between align-items-center">
           <a href="index.html" class="btn btn-link text-white me-3" title="Home">
             <i class="bi bi-house-door fs-4"></i>
           </a>
           <div class="mx-auto">
             <span class="navbar-brand">Admin Privileges - RestorePointsManager</span>
           </div>
           <div></div> <!-- Spacer -->
         </div>
       </nav>
    </header>

    <!-- Sidebar -->
    <div class="sidebar">
      <nav class="nav flex-column">
        <li class="nav-item">
          <a href="index.html" class="nav-link">
            <i class="bi bi-house-door"></i>Home
          </a>
        </li>
        <li class="nav-item"><a href="01_restore_point.html" class="nav-link">Restore Point</a></li>
<li class="nav-item"><a href="02_gui__graphical_user_interface_.html" class="nav-link">Gui  Graphical User Interface </a></li>
<li class="nav-item"><a href="03_admin_privileges.html" class="nav-link">Admin Privileges</a></li>
<li class="nav-item"><a href="04__creategui____function.html" class="nav-link"> Creategui    Function</a></li>
<li class="nav-item"><a href="05__refreshrestorepoints____function__implied_.html" class="nav-link"> Refreshrestorepoints    Function  Implied </a></li>
<li class="nav-item"><a href="06__checkadmin____function.html" class="nav-link"> Checkadmin    Function</a></li>
<li class="nav-item"><a href="07_logging.html" class="nav-link">Logging</a></li>
<li class="nav-item"><a href="08_global_variables.html" class="nav-link">Global Variables</a></li>
      </nav>
    </div>

    <div class="main-content">
      <div class="container mt-4">
        
        <h1>Chapter 3: Admin Privileges</h1>
<p>In the previous chapter, <a href="02_gui__graphical_user_interface_.html">GUI (Graphical User Interface)</a>, we saw how the <code>RestorePointsManager</code> program provides a user-friendly way to manage restore points. But have you ever wondered why some programs ask for your permission before they can do certain things? That&#39;s where admin privileges come in!</p>
<h2>Why Do We Need Admin Privileges?</h2>
<p>Imagine you&#39;re trying to move furniture around in your house. You can easily move your own chair or table. But what if you wanted to move a wall? That would require special permission and tools, because it affects the whole house!</p>
<p>Similarly, some actions on your computer, like creating or deleting restore points, can affect the entire system. These actions require <strong>admin privileges</strong>, which are like having the &quot;keys to the kingdom&quot; on your computer.</p>
<p>Without admin privileges, <code>RestorePointsManager</code> wouldn&#39;t be able to create or delete restore points. It&#39;s like trying to build a Lego castle without the right Lego bricks – you just can&#39;t do it!</p>
<h2>What Are Admin Privileges?</h2>
<p>Admin privileges are special permissions that allow a program to make changes to your computer&#39;s system settings. Think of them as a special badge that says, &quot;This program is allowed to make important changes.&quot;</p>
<p>Here&#39;s why they&#39;re important:</p>
<ul>
<li><strong>Security:</strong> They prevent unauthorized programs from making changes to your system. Imagine if any program could delete your system files!</li>
<li><strong>Stability:</strong> They ensure that only trusted programs can modify critical settings, preventing accidental damage to your computer.</li>
</ul>
<h2>How <code>RestorePointsManager</code> Uses Admin Privileges</h2>
<p>The <code>RestorePointsManager</code> program needs admin privileges to:</p>
<ul>
<li><strong>Create restore points:</strong> This involves making changes to the system&#39;s configuration.</li>
<li><strong>Delete restore points:</strong> This also requires modifying system settings.</li>
<li><strong>Get a list of restore points:</strong> While <em>reading</em> restore point information doesn&#39;t always require admin privileges, having them ensures the program can access all the necessary data reliably.</li>
</ul>
<h2>What Happens When Admin Privileges Are Needed?</h2>
<p>When <code>RestorePointsManager</code> needs admin privileges, it will ask for them. You&#39;ll see a window pop up asking if you want to allow the program to make changes to your computer. This is called the <strong>User Account Control (UAC)</strong> prompt.</p>
<p>It looks something like this:</p>
<p><img src="https://i.stack.imgur.com/j1Kzo.png" alt="UAC Prompt"></p>
<p><strong>Important:</strong> Only allow programs you trust to make changes to your computer. If you&#39;re not sure about a program, click &quot;No.&quot;</p>
<h2>How <code>RestorePointsManager</code> Checks for Admin Privileges</h2>
<p>The program uses a function called <code>CheckAdmin()</code> to see if it has admin privileges. If it doesn&#39;t, it asks for them.</p>
<p>Here&#39;s a simplified version of the <code>CheckAdmin()</code> function:</p>
<pre><code class="language-autohotkey">CheckAdmin() {
    if (!A_IsAdmin) {
        try {
            Run(&quot;*RunAs &quot; &#39;&quot;&#39; A_AhkPath &#39;&quot; &quot;&#39; A_ScriptFullPath &#39;&quot;&#39;)
            ExitApp
        } catch as e {
            MsgBox(&quot;This application requires administrator privileges.&quot;)
            ExitApp
        }
    }
}
</code></pre>
<p>Let&#39;s break down this code:</p>
<ol>
<li><code>if (!A_IsAdmin)</code>: This checks if the program is currently running with admin privileges. <code>A_IsAdmin</code> is a built-in variable that tells us whether the program has admin rights. The <code>!</code> means &quot;not,&quot; so this line reads as &quot;if the program is <em>not</em> running as an administrator.&quot;</li>
<li><code>Run(&quot;*RunAs &quot; &#39;&quot;&#39; A_AhkPath &#39;&quot; &quot;&#39; A_ScriptFullPath &#39;&quot;&#39;)</code>: If the program doesn&#39;t have admin privileges, this line tries to restart the program with admin privileges. <code>*RunAs</code> tells the operating system to run the program as an administrator.</li>
<li><code>ExitApp</code>: After trying to restart with admin privileges, the original instance of the program closes. This is because the new instance will take over.</li>
<li><code>catch as e { ... }</code>: If something goes wrong while trying to get admin privileges (for example, the user clicks &quot;No&quot; on the UAC prompt), this part of the code displays an error message and exits the program.</li>
</ol>
<h2>Under the Hood: How Admin Privileges Work</h2>
<p>Here&#39;s a simplified sequence diagram of what happens when <code>RestorePointsManager</code> starts:</p>
<div class="mermaid">sequenceDiagram
    participant User
    participant RestorePointsManager
    participant OS
    participant UAC

    User->>RestorePointsManager: Run RestorePointsManager.ahk
    RestorePointsManager->>RestorePointsManager: Call CheckAdmin()
    RestorePointsManager->>OS: Check if running as admin
    OS-->>RestorePointsManager: No
    RestorePointsManager->>UAC: Request admin privileges
    UAC-->>User: Show UAC prompt
    alt User approves
        User->>UAC: Click &quot;Yes&quot;
        UAC-->>OS: Grant admin privileges
        OS->>RestorePointsManager: Restart with admin privileges
        RestorePointsManager->>RestorePointsManager: Continue execution
    else User denies
        User->>UAC: Click &quot;No&quot;
        UAC-->>OS: Deny admin privileges
        OS->>RestorePointsManager: Error
        RestorePointsManager->>User: Show error message and exit
    end</div>
<ol>
<li>The user runs the <code>RestorePointsManager</code> program.</li>
<li>The program calls the <code>CheckAdmin()</code> function.</li>
<li><code>CheckAdmin()</code> checks if the program is already running with admin privileges.</li>
<li>If not, it asks the operating system (OS) to run the program as an administrator.</li>
<li>The OS displays the UAC prompt to the user.</li>
<li>If the user clicks &quot;Yes,&quot; the OS grants admin privileges and restarts the program.</li>
<li>If the user clicks &quot;No,&quot; the OS denies admin privileges, and the program displays an error message and exits.</li>
</ol>
<h2>Conclusion</h2>
<p>In this chapter, we learned about admin privileges and why they&#39;re necessary for the <code>RestorePointsManager</code> program to work correctly. We saw how the program checks for admin privileges and asks for them if needed.</p>
<p>In the next chapter, we&#39;ll explore the <a href="04__creategui____function.html"><code>CreateGUI()</code> Function</a> and see how it creates the user interface that we interact with.</p>


      </div>
    </div>

   <!-- Navigation Buttons -->
   <div class="nav-buttons">
     <button class="nav-button" onclick="scrollToTop()">↑</button>
     <button class="nav-button" onclick="scrollToBottom()">↓</button>
   </div>

    <!-- Chapter Navigation -->
    <div class="chapter-nav text-center mt-5 mb-5">
       
         <a href="02_gui__graphical_user_interface_.html" class="btn btn-secondary mx-2">← Previous</a>
         <a href="04__creategui____function.html" class="btn btn-primary mx-2">Next →</a>
       
    </div>

   <!-- Footer -->
   <footer class="text-center mt-5 py-4" style="border-top: 1px solid #e9ecef; background: #fff; margin-left: 330px; width: calc(100% - 330px); position: relative;">
     <div class="container">
       <p class="mb-0 text-muted">
         <small>Generated by <a href="https://github.com/sarfraznawaz2005/code2tut" class="text-decoration-none" style="color: #667eea; font-weight: 500;">Code2Tutorial</a></small>
       </p>
     </div>
   </footer>


  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Prism.js for syntax highlighting -->
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
   <script>
     // Initialize Mermaid
     mermaid.initialize({ startOnLoad: true });

     // Initialize syntax highlighting, but skip mermaid elements
     document.querySelectorAll('pre code').forEach((block) => {
       if (!block.closest('.mermaid')) {
         Prism.highlightElement(block);
       }
     });

     // Highlight current chapter in sidebar
     document.addEventListener('DOMContentLoaded', function() {
       const currentPage = window.location.pathname.split('/').pop();
       const navLinks = document.querySelectorAll('.sidebar .nav-link');
       navLinks.forEach(link => {
         if (link.getAttribute('href') === currentPage) {
           link.classList.add('active');
         }
       });
     });

    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
      if (e.key === 'ArrowUp') {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      } else if (e.key === 'ArrowDown') {
        window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
      }
    });

    // Scroll functions for buttons
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function scrollToBottom() {
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    }

    // Mermaid zoom and pan functionality
    const ZOOM_STEP = 0.2;
    const MIN_ZOOM = 0.5;
    const MAX_ZOOM = 3;

    // Initialize zoom controls for each mermaid diagram
    document.addEventListener('DOMContentLoaded', function() {
      // Wait for Mermaid to finish rendering
      setTimeout(() => {
        const mermaidContainers = document.querySelectorAll('.mermaid');
        mermaidContainers.forEach(container => {
          initMermaidControls(container);
        });
      }, 1000); // Wait 1 second for Mermaid to render
    });

    function initMermaidControls(container) {
      const svg = container.querySelector('svg');
      if (!svg) return;

      // Add zoom controls overlay
      const controls = document.createElement('div');
      controls.className = 'mermaid-zoom-controls';
      controls.innerHTML = '<button class="mermaid-zoom-btn" onclick="zoomInMermaid(this)" title="Zoom In">+</button><button class="mermaid-zoom-btn" onclick="zoomOutMermaid(this)" title="Zoom Out">-</button><button class="mermaid-zoom-btn" onclick="resetMermaidZoom(this)" title="Reset Zoom">⭯</button>';
      container.appendChild(controls);

      // Initialize zoom and pan state
      svg.dataset.zoom = '1';
      svg.dataset.panX = '0';
      svg.dataset.panY = '0';
      svg.dataset.dragging = 'false';

      // Add pan functionality
      let isDragging = false;
      let startX, startY, startPanX, startPanY;

      svg.addEventListener('mousedown', function(e) {
        if (parseFloat(svg.dataset.zoom) > 1) {
          isDragging = true;
          startX = e.clientX;
          startY = e.clientY;
          startPanX = parseFloat(svg.dataset.panX);
          startPanY = parseFloat(svg.dataset.panY);
          svg.classList.add('dragging');
          svg.dataset.dragging = 'true';
          e.preventDefault();
        }
      });

      document.addEventListener('mousemove', function(e) {
        if (isDragging && svg.dataset.dragging === 'true') {
          const deltaX = e.clientX - startX;
          const deltaY = e.clientY - startY;
          const newPanX = startPanX + deltaX;
          const newPanY = startPanY + deltaY;

          svg.dataset.panX = newPanX;
          svg.dataset.panY = newPanY;
          updateMermaidTransform(svg);
        }
      });

      document.addEventListener('mouseup', function() {
        if (isDragging) {
          isDragging = false;
          svg.classList.remove('dragging');
          svg.dataset.dragging = 'false';
        }
      });

      // Prevent context menu on right click for better UX
      svg.addEventListener('contextmenu', function(e) {
        e.preventDefault();
      });
    }

    function zoomInMermaid(button) {
      const container = button.closest('.mermaid');
      const svg = container.querySelector('svg');
      let zoom = parseFloat(svg.dataset.zoom);
      zoom = Math.min(zoom + ZOOM_STEP, MAX_ZOOM);
      svg.dataset.zoom = zoom;
      updateMermaidTransform(svg);
      container.classList.add('zoomed');
    }

    function zoomOutMermaid(button) {
      const container = button.closest('.mermaid');
      const svg = container.querySelector('svg');
      let zoom = parseFloat(svg.dataset.zoom);
      zoom = Math.max(zoom - ZOOM_STEP, MIN_ZOOM);
      svg.dataset.zoom = zoom;
      updateMermaidTransform(svg);
      if (zoom <= 1) {
        container.classList.remove('zoomed');
      }
    }

    function resetMermaidZoom(button) {
      const container = button.closest('.mermaid');
      const svg = container.querySelector('svg');
      svg.dataset.zoom = '1';
      svg.dataset.panX = '0';
      svg.dataset.panY = '0';
      updateMermaidTransform(svg);
      container.classList.remove('zoomed');
    }

    function updateMermaidTransform(svg) {
      const zoom = parseFloat(svg.dataset.zoom);
      const panX = parseFloat(svg.dataset.panX);
      const panY = parseFloat(svg.dataset.panY);

      svg.style.transform = 'translate(' + panX + 'px, ' + panY + 'px) scale(' + zoom + ')';
      svg.style.transformOrigin = 'center center';
    }


  </script>
</body>
</html>
